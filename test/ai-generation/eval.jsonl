{"id":"eval-001","english_description":"Construct a record using an incorrect field type so the assignment fails validation.","cnl_code":"Module tests.typecheck.mismatch.assign.\n\nDefine Entry has id, name.\n\nTo makeBadEntry, produce:\n  Let entry be Entry(1, 2).\n  Return Text.concat(entry.name, \"x\").","category":"validation","tags":["records","type_error"],"difficulty":"easy"}
{"id":"eval-002","english_description":"Call the Payment API without declaring IO, resulting in a capability violation.","cnl_code":"Module test.typechecker.payment_missing_io.\n\n// Invalid Payment capability usage - missing IO effect declaration\n// Should produce error: Payment capability requires IO effect\n\nRule processPaymentInvalid given orderId, amount, produce:\n  Return ok of Payment.charge(orderId, amount).","category":"effects","tags":["capability","payment"],"difficulty":"easy"}
{"id":"eval-003","english_description":"Perform file IO inside a SQL-only function to raise enforcement diagnostics.","cnl_code":"Module test.eff.violation.sql_calls_files.\n\nTo db_init, produce. It performs io [Sql]:\n  Let config be Files.read(\"/etc/config.ini\").\n  Return Db.connect(config).","category":"effects","tags":["violation","sql","file"],"difficulty":"medium"}
{"id":"eval-004","english_description":"Return an email value from a helper and immediately send it over HTTP.","cnl_code":"Module test.pii.function_return.\n\nTo get_email, produce:\n  Return \"user@example.com\".\n\nTo send_email, produce. It performs io [Http]:\n  Let email be get_email().\n  Return Http.post(\"/send\", email).","category":"security","tags":["pii","http"],"difficulty":"easy"}
{"id":"eval-005","english_description":"Define enums and helper rules to evaluate whether a user may access a resource.","cnl_code":"Module demo.policy.\n\nDefine Action as one of Read, Write, Delete, Admin.\n\nDefine Resource as one of Document, User, System.\n\nDefine PolicyContext has userId, userRole, resourceOwner, resourceType, timeOfDay, location.\n\nRule canAccess given role, action, ownerId, userId, produce:\n  If Action.equals(action, Read):\n    Return Text.equals(ownerId, userId).\n  If Action.equals(action, Write):\n    Return Text.equals(ownerId, userId).\n  If Action.equals(action, Delete):\n    Return false.\n  If Action.equals(action, Admin):\n    Return Text.equals(role, \"admin\").\n  Return false.\n\nRule evaluateOwnerBasedRule given role, action, resource, context, produce:\n  If not Action.equals(action, Read):\n    Return false.\n  If not Resource.equals(resource, context.resourceType):\n    Return false.\n  Return Text.equals(context.userId, context.resourceOwner).\n\nRule evaluateUserReadRule given context, produce:\n  Return Text.equals(context.userId, context.resourceOwner).","category":"complex","tags":["policy","access_control"],"difficulty":"medium"}
{"id":"eval-006","english_description":"Compute the maximum of three integers using nested comparisons.","cnl_code":"Module ai.generated.case1.\n\nRule maxOfThree given a: Int, b: Int, c: Int, produce Int:\n  If >(a, b),:\n    If >(a, c),:\n      Return a.\n  If >(b, c),:\n    Return b.\n  Return c.","category":"basic","tags":["arithmetic","comparison"],"difficulty":"easy"}
{"id":"eval-007","english_description":"Provide helpers for list length, indexed lookup, and emptiness checks over text lists.","cnl_code":"Module demo.list.\n\nRule length given xs, produce:\n  Return List.length(xs).\n\nRule third given xs, produce:\n  Return List.get(xs, 2).\n\nRule isEmpty given xs, produce:\n  Return List.isEmpty(xs).","category":"basic","tags":["collections","list"],"difficulty":"easy"}
{"id":"eval-008","english_description":"Continue the nested enforcement scenario with a different branch calling forbidden capabilities.","cnl_code":"Module test.eff.violation.nested_b.\n\nTo db_query, produce. It performs io [Sql]:\n  Return Db.query(\"SELECT 1\").\n\nTo http_call, produce. It performs io [Http]:\n  Return db_query().\n\nTo top_level, produce. It performs cpu:\n  Return http_call().","category":"effects","tags":["violation","nesting"],"difficulty":"medium"}
{"id":"eval-009","english_description":"Call into an external package that performs IO to show capability propagation.","cnl_code":"Module tests.effects.with_external_package.\n\nUse mock.pkg.analytics.remote as Remote.\n\nTo load_remote, produce. It performs io:\n  Return Remote.fetch_remote().","category":"effects","tags":["module","io"],"difficulty":"easy"}
{"id":"eval-010","english_description":"Compose several nested IF rules to determine coverage percentages and patient cost.","cnl_code":"Module test.eligibility.with.ifs.\n\nDefine Patient has patientId, age, hasInsurance, insuranceType, chronicConditions.\n\nDefine Service has serviceCode, serviceName, basePrice, requiresPreAuth.\n\nDefine EligibilityCheck has eligible, reason, coveragePercent, estimatedCost, requiresPreAuth.\n\nRule determineMinorCoverage given insuranceType, service, produce:\n  Return 0.\nRule determineSeniorCoverage given insuranceType, service, produce:\n  Return 0.\nRule determineStandardCoverage given insuranceType, service, chronicConditions, produce:\n  Return 0.\nRule calculatePatientCost given basePrice, coveragePercent, produce:\n  Return 0.\nRule checkServiceEligibility given patient, service, produce:\n  Return 0.","category":"complex","tags":["eligibility","branching"],"difficulty":"hard"}
{"id":"eval-011","english_description":"Assign support tickets to queues based on severity and customer tier.","cnl_code":"Module ai.generated.case34.\n\nDefine Ticket has severity: Int, product: Text, customerTier: Text.\n\nDefine Assignment has queue: Text, priority: Int.\n\nRule assignTicket given ticket: Ticket, produce Assignment:\n  If ticket.severity at least 90,:\n    Return Assignment with queue = \"CRITICAL\", priority = 1.\n  If Text.equals(ticket.customerTier, \"platinum\"),:\n    Return Assignment with queue = \"VIP\", priority = 2.\n  If Text.equals(ticket.product, \"payments\"),:\n    Return Assignment with queue = \"FINANCE\", priority = 3.\n  Return Assignment with queue = \"STANDARD\", priority = 4.","category":"complex","tags":["support","routing"],"difficulty":"medium"}
{"id":"eval-012","english_description":"Verify that subtotal plus tax equals the reported total.","cnl_code":"Module ai.generated.case18.\n\nRule isConsistentTotal given subtotal: Int, tax: Int, total: Int, produce Bool:\n  Let computed be subtotal plus tax.\n  If computed equals to total,:\n    Return true.\n  Return false.","category":"validation","tags":["arithmetic","consistency"],"difficulty":"easy"}
{"id":"eval-013","english_description":"Score transactions against account history to flag risky behavior.","cnl_code":"Module aster.finance.fraud.\n\nDefine Transaction has transactionId, accountId, amount, timestamp.\n\nDefine AccountHistory has accountId, averageAmount, suspiciousCount, accountAge, lastTimestamp.\n\nDefine FraudResult has isSuspicious, riskScore, reason.\n\nRule detectFraud given transaction, history, produce:\n  Return 0.","category":"complex","tags":["finance","fraud"],"difficulty":"medium"}
{"id":"eval-014","english_description":"Clamp a rating so it always stays between zero and five.","cnl_code":"Module ai.generated.case2.\n\nRule clampRating given value: Int, produce Int:\n  If <(value, 0),:\n    Return 0.\n  If >(value, 5),:\n    Return 5.\n  Return value.","category":"basic","tags":["validation","numbers"],"difficulty":"easy"}
{"id":"eval-015","english_description":"Provide a generic identity function that simply returns whichever value it receives.","cnl_code":"Module tests.typecheck.generics.\n\nRule identity given value, produce:\n  Return value.","category":"basic","tags":["generics","function"],"difficulty":"easy"}
{"id":"eval-016","english_description":"Count how many strings in a list are not empty.","cnl_code":"Module ai.generated.case4.\n\nRule countNonEmpty given values: List of Text, produce Int:\n  If List.isEmpty(values),:\n    Return 0.\n  Let head be List.head(values).\n  Let tail be List.tail(values).\n  Let remainder be countNonEmpty(tail).\n  If Text.equals(head, \"\"),:\n    Return remainder.\n  Return 1 plus remainder.","category":"basic","tags":["recursion","list"],"difficulty":"medium"}
