This module is test.eligibility.struct.

Define Patient with patientId, age, hasInsurance, insuranceType, chronicConditions.

Define Service with serviceCode, serviceName, basePrice, requiresPreAuth.

Define EligibilityCheck with eligible, reason, coveragePercent, estimatedCost, requiresPreAuth.

To calculatePatientCost with basePrice, coveragePercent, produce:
  Let patientPercent be 100 minus coveragePercent.
  Let patientCost be basePrice times patientPercent.
  Return patientCost.

To checkServiceEligibility with patient, service, produce:
  Return EligibilityCheck with eligible = true, reason = "Has insurance", coveragePercent = 80, estimatedCost = calculatePatientCost(service.basePrice, 80), requiresPreAuth = service.requiresPreAuth.
